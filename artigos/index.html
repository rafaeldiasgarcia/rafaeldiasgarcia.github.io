<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artigos | Rafael Dias Garcia</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Space+Grotesk:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        body {
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        .blog-list-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        .month-group {
            margin-bottom: 40px;
        }
        .month-title {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            font-size: 2rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            padding-bottom: 15px;
            margin-bottom: 25px;
            color: var(--text-primary);
        }
        .posts-ul {
            list-style: none;
            padding-left: 0;
        }
        .post-li {
            margin-bottom: 12px;
            display: flex;
            align-items: baseline;
            gap: 10px;
        }
        .post-li::before {
            content: "â€¢";
            color: var(--primary-color);
            font-weight: bold;
        }
        .post-link {
            text-decoration: none;
            color: var(--primary-color);
            font-size: 1.1rem;
            transition: all 0.2s ease;
        }
        .post-link:hover {
            text-decoration: underline;
            opacity: 0.8;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#navbar-main" data-bs-offset="100">

<!-- Navbar -->
<nav id="navbar-main" class="navbar navbar-expand-lg fixed-top">
    <div class="container">
        <a class="navbar-brand fw-bold fs-4" href="../index.html">R<span class="text-primary">D</span>G</a>
        <button class="navbar-toggler border-0" type="button" id="mobileMenuToggle">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end d-none d-lg-flex" id="navbarNav">
            <ul class="navbar-nav align-items-center gap-3">
                <li class="nav-item"><a class="nav-link px-3" href="../index.html#sobre" data-i18n="nav.about">Sobre</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="../index.html#techs" data-i18n="nav.technologies">Tecnologias</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="../index.html#projetos" data-i18n="nav.projects">Projetos</a></li>
                <li class="nav-item"><a class="nav-link px-3" href="../index.html#experiencia" data-i18n="nav.experience">ExperiÃªncia</a></li>
                <li class="nav-item"><a class="nav-link px-3 active" href="#" data-i18n="nav.blog">Artigos</a></li>
                <li class="nav-item">
                    <div class="navbar-divider"></div>
                </li>
                <li class="nav-item">
                    <a href="https://github.com/rafaeldiasgarcia" target="_blank" class="nav-icon-link" aria-label="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="https://www.linkedin.com/in/rafaeldiasgarcia/" target="_blank" class="nav-icon-link" aria-label="LinkedIn">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <button class="theme-toggle" id="themeToggle" aria-label="Alternar tema">
                        <i class="fas fa-moon theme-icon moon"></i>
                        <i class="fas fa-sun theme-icon sun"></i>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="btn btn-primary px-4 py-2 rounded-pill fw-semibold" data-bs-toggle="modal" data-bs-target="#contactModal" data-i18n="nav.contact">
                        Contato
                    </button>
                </li>
                <li class="nav-item position-relative">
                    <button class="language-selector" id="languageSelectorBtn" aria-label="Selecionar idioma">
                        ðŸ‡§ðŸ‡· <i class="fas fa-chevron-down ms-1"></i>
                    </button>
                    <div class="language-dropdown" id="languageDropdown">
                        <a class="language-dropdown-item" data-lang="pt-BR">
                            <span class="flag">ðŸ‡§ðŸ‡·</span>
                            <span class="lang-name">PortuguÃªs</span>
                            <i class="fas fa-check check-icon"></i>
                        </a>
                        <a class="language-dropdown-item" data-lang="en">
                            <span class="flag">ðŸ‡ºðŸ‡¸</span>
                            <span class="lang-name">English</span>
                            <i class="fas fa-check check-icon"></i>
                        </a>
                        <a class="language-dropdown-item" data-lang="es">
                            <span class="flag">ðŸ‡ªðŸ‡¸</span>
                            <span class="lang-name">EspaÃ±ol</span>
                            <i class="fas fa-check check-icon"></i>
                        </a>
                        <a class="language-dropdown-item" data-lang="zh">
                            <span class="flag">ðŸ‡¨ðŸ‡³</span>
                            <span class="lang-name">ä¸­æ–‡</span>
                            <i class="fas fa-check check-icon"></i>
                        </a>
                        <a class="language-dropdown-item" data-lang="de">
                            <span class="flag">ðŸ‡©ðŸ‡ª</span>
                            <span class="lang-name">Deutsch</span>
                            <i class="fas fa-check check-icon"></i>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Mobile Menu Sidebar -->
<div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
<div class="mobile-menu-sidebar" id="mobileMenuSidebar">
    <div class="mobile-menu-header">
        <div>
            <h5 class="fw-bold mb-0" data-i18n="mobile.menu">Menu</h5>
            <small class="text-muted" data-i18n="mobile.navigation">NavegaÃ§Ã£o</small>
        </div>
        <button class="mobile-menu-close" id="mobileMenuClose">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="mobile-menu-body">
        <nav class="mobile-menu-nav">
            <a href="../index.html#sobre" class="mobile-menu-item">
                <i class="fas fa-user me-2"></i><span data-i18n="nav.about">Sobre</span>
            </a>
            <a href="../index.html#techs" class="mobile-menu-item">
                <i class="fas fa-code me-2"></i><span data-i18n="nav.technologies">Tecnologias</span>
            </a>
            <a href="../index.html#projetos" class="mobile-menu-item">
                <i class="fas fa-folder-open me-2"></i><span data-i18n="nav.projects">Projetos</span>
            </a>
            <a href="../index.html#experiencia" class="mobile-menu-item">
                <i class="fas fa-briefcase me-2"></i><span data-i18n="nav.experience">ExperiÃªncia</span>
            </a>
            <a href="#" class="mobile-menu-item active">
                <i class="fas fa-newspaper me-2"></i><span data-i18n="nav.blog">Artigos</span>
            </a>
        </nav>
        
        <div class="mobile-menu-social">
            <a href="https://github.com/rafaeldiasgarcia" target="_blank" class="mobile-social-link">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
                <i class="fas fa-arrow-right ms-auto"></i>
            </a>
            <a href="https://www.linkedin.com/in/rafaeldiasgarcia/" target="_blank" class="mobile-social-link">
                <i class="fab fa-linkedin"></i>
                <span>LinkedIn</span>
                <i class="fas fa-arrow-right ms-auto"></i>
            </a>
        </div>
        
        <div class="mobile-menu-footer">
            <button class="mobile-theme-toggle-icon" id="mobileThemeToggle">
                <i class="fas fa-moon theme-icon moon"></i>
                <i class="fas fa-sun theme-icon sun"></i>
            </button>
            <button class="btn btn-primary flex-grow-1 rounded-pill py-2 fw-semibold" data-bs-toggle="modal" data-bs-target="#contactModal">
                <i class="fas fa-paper-plane me-2"></i><span data-i18n="nav.contact">Contato</span>
            </button>
            <div class="mobile-language-selector-wrapper position-relative">
                <button class="mobile-language-toggle-icon" id="mobileLanguageBtn">
                    <span class="flag-emoji">ðŸ‡§ðŸ‡·</span>
                </button>
                <div class="mobile-language-dropdown" id="mobileLanguageDropdown">
                    <a class="mobile-language-dropdown-item" data-lang="pt-BR">
                        <span class="flag">ðŸ‡§ðŸ‡·</span>
                        <span class="lang-name">PortuguÃªs</span>
                        <i class="fas fa-check check-icon"></i>
                    </a>
                    <a class="mobile-language-dropdown-item" data-lang="en">
                        <span class="flag">ðŸ‡ºðŸ‡¸</span>
                        <span class="lang-name">English</span>
                        <i class="fas fa-check check-icon"></i>
                    </a>
                    <a class="mobile-language-dropdown-item" data-lang="es">
                        <span class="flag">ðŸ‡ªðŸ‡¸</span>
                        <span class="lang-name">EspaÃ±ol</span>
                        <i class="fas fa-check check-icon"></i>
                    </a>
                    <a class="mobile-language-dropdown-item" data-lang="zh">
                        <span class="flag">ðŸ‡¨ðŸ‡³</span>
                        <span class="lang-name">ä¸­æ–‡</span>
                        <i class="fas fa-check check-icon"></i>
                    </a>
                    <a class="mobile-language-dropdown-item" data-lang="de">
                        <span class="flag">ðŸ‡©ðŸ‡ª</span>
                        <span class="lang-name">Deutsch</span>
                        <i class="fas fa-check check-icon"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="blog-list-container">
    <h1 class="display-4 fw-bold mb-5" style="font-family: 'Space Grotesk', sans-serif;">Artigos</h1>
    
    <div id="posts-list">
        <!-- Posts will be loaded here -->
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
        </div>
    </div>
</div>

<!-- Contact Modal -->
<div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg">
            <div class="modal-header border-0 pb-0">
                <h5 class="modal-title fw-bold d-flex align-items-center text-primary" id="contactModalLabel">
                    <i class="fas fa-paper-plane me-2"></i><span data-i18n="contact.title">Enviar Mensagem</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                <!-- Form -->
                <form id="contactForm" action="https://formspree.io/f/xrbqbvyy" method="POST">
                    <div class="mb-3">
                        <label for="email" class="form-label fw-bold text-muted small mb-1" data-i18n="contact.emailLabel">Seu Email</label>
                        <input type="email" class="form-control form-control-lg border-0 bg-light shadow-sm" name="email" id="email" data-i18n-placeholder="contact.emailPlaceholder" placeholder="nome@exemplo.com" required>
                    </div>
                    <div class="mb-4">
                        <label for="message" class="form-label fw-bold text-muted small mb-1" data-i18n="contact.messageLabel">Mensagem</label>
                        <textarea class="form-control form-control-lg border-0 bg-light shadow-sm" name="message" id="message" rows="4" data-i18n-placeholder="contact.messagePlaceholder" placeholder="Como posso ajudar?" required></textarea>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg fw-bold rounded-pill shadow-sm" data-i18n="contact.sendButton">Enviar Agora</button>
                    </div>
                </form>

                <!-- Success Message (Hidden by default) -->
                <div id="successMessage" class="text-center py-4 d-none">
                    <div class="mb-4">
                        <i class="fas fa-check-circle text-success fa-4x animate__animated animate__bounceIn"></i>
                    </div>
                    <h4 class="fw-bold text-success mb-2" data-i18n="contact.successTitle">Mensagem Enviada!</h4>
                    <p class="text-muted" data-i18n="contact.successMessage">Obrigado pelo contato. Retornarei em breve.</p>
                    <button type="button" class="btn btn-outline-success rounded-pill mt-3 px-5" data-bs-dismiss="modal" data-i18n="contact.close">Fechar</button>
                </div>

                <!-- Error Message (Hidden by default) -->
                <div id="errorMessage" class="text-center py-4 d-none">
                    <div class="mb-4">
                        <i class="fas fa-exclamation-circle text-danger fa-4x"></i>
                    </div>
                    <h4 class="fw-bold text-danger mb-2" data-i18n="contact.errorTitle">Erro ao enviar</h4>
                    <p class="text-muted" data-i18n="contact.errorMessage">Houve um problema. Tente novamente ou use meu email direto.</p>
                    <button type="button" class="btn btn-outline-secondary rounded-pill mt-3 px-5" onclick="resetForm()" data-i18n="contact.tryAgain">Tentar Novamente</button>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Custom JS -->
<script src="../assets/js/script.js"></script>
<!-- i18n JS -->
<script src="../assets/js/i18n.js"></script>

<script>
    async function loadPosts() {
        try {
            const response = await fetch('posts.json');
            const posts = await response.json();
            const listContainer = document.getElementById('posts-list');
            listContainer.innerHTML = '';

            // Sort posts by date descending
            posts.sort((a, b) => new Date(b.date) - new Date(a.date));

            let currentMonthGroup = null;
            let currentUl = null;

            posts.forEach(post => {
                const date = new Date(post.date);
                // Get Month and Year separately
                const year = date.getFullYear();
                const month = date.toLocaleDateString('pt-BR', { month: 'long' });
                const formattedMonth = month.charAt(0).toUpperCase() + month.slice(1);
                const formattedHeader = `${year} - ${formattedMonth}`;

                if (formattedHeader !== currentMonthGroup) {
                    currentMonthGroup = formattedHeader;
                    
                    const groupDiv = document.createElement('div');
                    groupDiv.className = 'month-group';
                    
                    const title = document.createElement('h2');
                    title.className = 'month-title';
                    title.textContent = formattedHeader;
                    
                    currentUl = document.createElement('ul');
                    currentUl.className = 'posts-ul';
                    
                    groupDiv.appendChild(title);
                    groupDiv.appendChild(currentUl);
                    listContainer.appendChild(groupDiv);
                }

                const li = document.createElement('li');
                li.className = 'post-li';
                li.innerHTML = `<a href="post.html?id=${post.id}" class="post-link">${post.title}</a>`;
                currentUl.appendChild(li);
            });
        } catch (error) {
            console.error('Erro ao carregar posts:', error);
            document.getElementById('posts-list').innerHTML = '<p class="text-center text-danger">Erro ao carregar os artigos. Tente novamente mais tarde.</p>';
        }
    }

    loadPosts();
</script>
</body>
</html>
